syntax = "proto3";

// Require Go Package
option go_package = "/models";

// Cardinal: Designation for the Compass Direction Value
enum Cardinal {
  N = 0;     // North
  NbE = 1;   // North by East
  NNE = 2;   // North North East
  NEbN = 3;  // NorthEast by North
  NE = 4;    // North East
  NEbE = 5;  // NorthEast by East
  ENE = 6;   // East North East
  EbN = 7;   // East by North
  E = 8;     // East
  EbS = 9;   // East by South
  ESE = 10;  // East South East
  SEbE = 11; // SouthEast by East
  SE = 12;   // South East
  SEbS = 13; // SouthEast by South
  SSE = 14;  // South South East
  SbE = 15;  // South by East
  S = 16;    // South
  SbW = 17;  // South by West
  SSW = 18;  // South South West
  SWbS = 19; // SouthWest by South
  SW = 20;   // South West
  SWbW = 21; // SouthWest by West
  WSW = 22;  // West South West
  WbS = 23;  // West by South
  W = 24;    // West
  WbN = 25;  // West by North
  WNW = 26;  // West North West
  NWbW = 27; // North West by West
  NW = 28;   // North West
  NWbN = 29; // North West by North
  NNW = 30;  // North North West
  NbW = 31;  // North by West
}

// Information about device for User
message Device {
  string label = 1;            // User Defined Name
  string id = 2;               // Generated or Provided Device ID
  Platform platform = 3;       // Operating System
  string model = 4;            // Model of Device
  string name = 5;             // Name of Device
  string version = 6;          // Device Software Version
  int32 sdk = 7;               // Only For Android
  Directories directories = 8; // Directories for this Device
}

// Directories are for FilePaths Where Data can be stored
message Directories {
  string documents = 1; // User Generated Files - Both
  string downloads = 2; // Downloaded Files - Desktop
  string library = 3;   // Persistent Non Exposed Files - Desktop
  string support = 4;   // Non Exposed Support Files - Mobile
  string temporary = 5; // Temporary Storage - Mobile
}

// Basic Info Sent to Peers to Establish Connections
message Peer {
  ID id = 1;                 // ID references
  Platform platform = 2;     // Peers Device Platform
  string model = 3;          // Peers Device Model
  Position position = 4;     // Peers Positional Information
  Profile profile = 5;       // Peers General Information
  Discovery discovery = 6;   // Peers Method of Discovery
  Properties properties = 7; // Peer specific options set

  // Enum for Discovery Type
  enum Discovery {
    Linked = 0;     // Users own Device
    MDNS = 1;       // Local Network
    Ultrasonic = 2; // Ultrasonic discovered peer
    Rendevouz = 3;  // Rendevouz Discovered Peer
  }

  // ID References
  message ID {
    string peer = 1;      // Host PeerID
    string device = 2;    // Device ID
    uint32 user = 3;      // User ID
    string multiAddr = 4; // Peer MultiAddr
  }

  // Properties
  message Properties {
    // Whether Peer can use automatic point to Transfer
    bool hasPointToShare = 1;
    bool isFlatMode = 2;
  }
}

// Platform is the Operating System of Device
enum Platform {
  Undefined = 0;
  Android = 1;
  IOS = 2;
  MacOS = 3;
  Windows = 4;
  Linux = 5;
  Web = 6;
}

// General Information about Peer passed during Authentication
message Profile {
  string username = 1;   // Sonr Based Username
  string firstName = 2;  // General Info
  string lastName = 3;   // General Info
  bytes picture = 4;     // Profile Picture
  Platform platform = 5; // Peers Device Operating System
}

// Position Includes All Directional Info of Peer
message Position {
  Compass facing = 1;              // Compass Direction of Peer on Z axis
  Compass heading = 2;             // Compass Direction of Peer on X axis
  Proximity proximity = 3;         // Proximity from the User - Calculated
  Accelerometer accelerometer = 4; // Accelerometer Values
  Gyroscope gyroscope = 5;         // Gyroscope Values
  Magnometer magnometer = 6;       // Magnometer Values
  Orientation orientation = 7;     // Orientation Values

  message Accelerometer {
    double x = 1;
    double y = 2;
    double z = 3;
  }

  message Compass {
    Cardinal cardinal = 1;     // Cardinal Designation of normal Value
    Cardinal antiCardinal = 2; // Cardinal Designation of Antipodal Value
    double direction = 3;      // Normal Compass Value
    double antipodal = 4;      // Inverse Compass Direction of Peer
  }

  message Gyroscope {
    double x = 1;
    double y = 2;
    double z = 3;
  }

  message Magnometer {
    double x = 1;
    double y = 2;
    double z = 3;
  }

  message Orientation {
    double pitch = 1;
    double roll = 2;
    double yaw = 3;
  }

  // Proximity is the Distance between Peers, from Ultrasonic
  enum Proximity {
    NotFound = 0;  // Unable to Calculate
    Immediate = 1; // Within 5 Meters
    Near = 2;      // Within 10 Meters
    Distant = 3;   // Within 15 Meters
  }
}

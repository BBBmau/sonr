syntax = "proto3";

// Require Go Package
option go_package = "/models";

// Client Network Connection Status
enum Connectivity {
  None = 0;
  Mobile = 1;
  WiFi = 2;
}

// Status is User Node Situation
enum Status {
  IDLE = 0;         // Default Status on Launch
  CONNECTED = 1;    // Status after starting Host
  BOOTSTRAPPED = 2; // After Bootstrapping Host
  AVAILABLE = 3;    // Connected and Visible on Local Lobby
  SEARCHING = 4;    // File has been Processed ready to Invite
  PENDING = 5;      // Awaiting Peer Authorization
  INVITED = 6;      // Has received Invitation
  INPROGRESS = 7;   // In Middle of Transfer
  STANDBY = 8;      // Away from Sonr Application
  FAILED = 9;
}

// Cardinal: Designation for the Compass Direction Value
enum Cardinal {
  N = 0;     // North
  NbE = 1;   // North by East
  NNE = 2;   // North North East
  NEbN = 3;  // NorthEast by North
  NE = 4;    // North East
  NEbE = 5;  // NorthEast by East
  ENE = 6;   // East North East
  EbN = 7;   // East by North
  E = 8;     // East
  EbS = 9;   // East by South
  ESE = 10;  // East South East
  SEbE = 11; // SouthEast by East
  SE = 12;   // South East
  SEbS = 13; // SouthEast by South
  SSE = 14;  // South South East
  SbE = 15;  // South by East
  S = 16;    // South
  SbW = 17;  // South by West
  SSW = 18;  // South South West
  SWbS = 19; // SouthWest by South
  SW = 20;   // South West
  SWbW = 21; // SouthWest by West
  WSW = 22;  // West South West
  WbS = 23;  // West by South
  W = 24;    // West
  WbN = 25;  // West by North
  WNW = 26;  // West North West
  NWbW = 27; // North West by West
  NW = 28;   // North West
  NWbN = 29; // North West by North
  NNW = 30;  // North North West
  NbW = 31;  // North by West
}

// Information about device for User
message Device {
  string id = 1;             // Device Identifier
  string name = 2;           // User Defined Name
  Platform platform = 3;     // Operating System
  string model = 4;          // Model of Device
  string version = 5;        // Operating System Version
  FileSystem fileSystem = 6; // Directories for this Device
  bytes privateKey = 7;
}

// FileSystem is for Directores Where Data can be stored
message FileSystem {
  string documents = 1; // User Generated Files - Both
  string downloads = 2; // Downloaded Files - Desktop
  string library = 3;   // Persistent Non Exposed Files - Desktop
  string support = 4;   // Non Exposed Support Files - Mobile
  string temporary = 5; // Temporary Storage - Mobile
}

// Basic Info Sent to Peers to Establish Connections
message Peer {
  ID id = 1;                 // ID references
  Platform platform = 2;     // Peers Device Platform
  string model = 3;          // Peers Device Model
  Position position = 4;     // Peers Positional Information
  Profile profile = 5;       // Peers General Information
  Properties properties = 6; // Peer specific options set

  // ID References
  message ID {
    string peer = 1;      // Host PeerID
    string device = 2;    // Device ID
    string sName = 3;     // User ID
    string multiAddr = 4; // Peer MultiAddr
  }

  // Properties
  message Properties {
    // Whether Peer can use automatic point to Transfer
    bool enabledPointShare = 1;
    bool isFlatMode = 2;
  }
}

// Platform is the Operating System of Device
enum Platform {
  Undefined = 0;
  Android = 1;
  IOS = 2;
  MacOS = 3;
  Windows = 4;
  Linux = 5;
  Web = 6;
}

// General Information about Peer passed during Authentication
message Profile {
  string sName = 1;      // Sonr Based Username
  string firstName = 2;  // General Info
  string lastName = 3;   // General Info
  bytes picture = 4;     // Profile Picture
  Platform platform = 5; // Peers Device Operating System
}

// Position Includes All Directional Info of Peer
message Position {
  Compass facing = 1;              // Compass Direction of Peer on Z axis
  Compass heading = 2;             // Compass Direction of Peer on X axis
  Proximity proximity = 3;         // Proximity from the User - Calculated
  Accelerometer accelerometer = 4; // Accelerometer Values
  Orientation orientation = 5;     // Orientation Values

  // Accelerometer Sensor Values
  message Accelerometer {
    double x = 1; // X-Axis Value
    double y = 2; // Y-Axis Value
    double z = 3; // Z-Axis Value
  }

  // Compass Direction Values
  message Compass {
    Cardinal cardinal = 1;     // Cardinal Designation of normal Value
    Cardinal antiCardinal = 2; // Cardinal Designation of Antipodal Value
    double direction = 3;      // Normal Compass Value
    double antipodal = 4;      // Inverse Compass Direction of Peer
  }

  // Euler Angle Orientation
  message Orientation {
    double pitch = 1;
    double roll = 2;
    double yaw = 3;
  }

  // Proximity is the Distance between Peers, from Ultrasonic
  enum Proximity {
    NotFound = 0;  // Unable to Calculate
    Immediate = 1; // Within 5 Meters
    Near = 2;      // Within 10 Meters
    Distant = 3;   // Within 15 Meters
  }
}

message Settings {
  string key = 1;    // Option as String
  Value value = 2;   // Value for Setting
  Option option = 3; // Type of Setting

  // Available Settings Options
  enum Option {
    None = 0;              // Arbitrary Zero Value
    DefaultVideoCall = 1;  // Default App to be used for Video Calls
    FallbackVideoCall = 2; // Fallback App for Video Calls
    DarkMode = 3;          // Dark Mode Preference
    RunInBackground = 4;   // Sonr Background Run Preference
  }

  // Value of Settings Option
  message Value {
    bool enabled = 1; // If Value is for simple enable/disable
    string value = 2; // If Value is complex
  }
}

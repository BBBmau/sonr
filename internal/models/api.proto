syntax = "proto3";

import "data.proto";

// Require Go Package
option go_package = ".;models";

// [PLUGIN]
// Initial Connection Message
message ConnectionRequest {
  string olc = 1;
  string username = 2;
  Device device = 3;
  Directories directory = 4;
  Contact contact = 5;
  Connectivity connectivity = 6;

  // Define Connectivity
  enum Connectivity { NONE = 0; WIFI = 1; MOBILE = 2; }
}

// Authorization message sent in stream
message AuthMessage {
  // Define Root Message
  Peer from = 1;
  Event event = 2;
  Metadata metadata = 3;
  Contact contact = 4;

  // Define Subject
  enum Event {
    NONE = 0; REQUEST_FILE = 1; REQUEST_CONTACT = 2; REPLY_CONTACT = 3;
    ACCEPT = 4;
    DECLINE = 5;
  }
}

// [PLUGIN]
// Error Message
message ErrorMessage {
  string message = 1;
  string method = 2;
}

syntax = "proto3";

import "data.proto";

// Require Go Package
option go_package = ".;models";

// [PLUGIN]
// Error Message
message ErrorMessage {
  string message = 1;
  string method = 2;
}

// [PLUGIN]
// Initial Request Message
message RequestMessage {
  string olc = 1;
  string device = 2;
  string documents = 3;
  Contact contact = 4;
}

// [PLUGIN]
// On Data Transfer
message ProgressMessage {
  int64 current = 1;
  int64 total = 2;
  float progress = 3;
}

// [PLUGIN]
// On Transfer Completed
message CompletedMessage {
  Peer from = 1;
  Metadata metadata = 2;
  string path = 3;
  int64 received = 4;
}

// Authorization message sent in stream
message AuthMessage {
  // Define Root Message
  Peer from = 1;
  Event event = 2;
  Metadata metadata = 3;

  // Define Subject
  enum Event {
    NONE = 0;
    REQUEST = 1;
    ACCEPT = 2;
    DECLINE = 3;
  }
}
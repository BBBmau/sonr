syntax = "proto3";

import "data.proto";

// Require Go Package
option go_package = ".;models";

// Define ConnectionRequest: Initial Connection Message
message ConnectionRequest {
  double latitude = 1;
  double longitude = 2;
  string username = 3;
  Device device = 4;
  Directories directories = 5;
  Contact contact = 6;
}

// Define ProcessRequest: Processes Given File with Information
message ProcessRequest {
  bool isExternal = 1;
  string filePath = 2;
  string thumbnailPath = 3;
  int32 duration = 4;
}

// Define Payload: Define Payload Enum
enum Payload {
  NONE = 0;
  IMAGE = 1;
  VIDEO = 2;
  FILE = 3;
  CONTACT = 4;
  URL = 5;
  TEXT = 6;
}

// Define AuthInvite: Invitation Message sent on RPC
message AuthInvite {
  Payload payload = 1;
  Peer from = 2;
  Preview preview = 3;
  Contact contact = 4;
  string url = 5;
  Type type = 6;

  enum Type {
    Peer = 0;
    Device = 1;
  }
}

// Define AuthReply: Reply Message sent on RPC
message AuthReply {
  Payload payload = 1;
  Peer from = 2;
  bool decision = 3;
  Contact contact = 4;
}

// Define CompletedTransfer: Resulting Payload and Data
message CompletedTransfer {
  Payload payload = 1;
  Peer from = 2;
  Metadata metadata = 3;
}

// Define ErrorMessage: Error Message
message ErrorMessage {
  string message = 1;
  string method = 2;
}

syntax = "proto3";

import "user.proto";

// Require Go Package
option go_package = ".;models";

// Define Lobby Type: For Info about Lobby
message Lobby {
  string olc = 1;
  int32 size = 2;
  int32 count = 3;
  map<string, Peer> peers = 4;
  map<string, Peer> standby = 5;
}

// [CORE]
// Message Sent when peer messages Lobby Topic
message LobbyEvent {
  string id = 1;
  Event event = 2;
  Peer data = 3;

  enum Event {
    EXCHANGE = 0;
    EXIT = 1;
    STANDBY = 2;
    RESUME = 3;
    UPDATE = 4;
  }
}

// Define Metadata Type: For Received Transfer
message Metadata {
  int32 id = 1;
  string name = 2;
  string path = 3;
  int32 size = 4;
  MIME mime = 5;
  bytes thumbnail = 6;
}

// Define MIME: Protobuf Version of Mime
message MIME {
  Type type = 1;
  string subtype = 2;
  string value = 3;

  enum Type {
    application = 0;
    audio = 1;
    image = 2;
    text = 3;
    video = 4;
  }
}

// Define Payload: Define Payload Enum
enum Payload {
  UNDEFINED = 0;
  CONTACT = 1;
  MEDIA = 2;
  URL = 3;
  TEXT = 4;
  PDF = 5;
  PRESENTATION = 6;
  SPREADSHEET = 7;
}

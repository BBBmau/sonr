syntax = "proto3";

// Require Go Package
option go_package = ".;models";

// Define Metadata Type: For Transfer Request
message Metadata {
  int32 id = 1;
  string uuid = 2;
  string name = 3;
  string path = 4;
  int32 size = 5;
  int32 chunks = 6;
  MIME mime = 7;
  bytes thumbnail = 8;
  Peer owner = 9;
  int32 lastOpened = 10;
}

// Define MIME: Protobuf Version of Mime
message MIME {
  string type = 1;
  string subtype = 2;
  string value = 3;
}

// Define Lobby Type: For Info about Lobby
message Lobby {
  string code = 1;
  int32 size = 2;
  map<string, Peer> peers = 3;
}

// Define Contact Type: Will be CSV in Future
message Contact {
  string firstName = 1;
  string lastName = 2;
  string profilePic = 3;
}

// Define Device Type: Information about device
message Device {
  string platform = 1;
  string model = 2;
  string name = 3;
  string version = 4;
  int32 sdk = 5; // For Android
}

// Define Directories Type: Where Data can be stored
message Directories {
  string documents = 1;
  string library = 2;
  string temporary = 3;
}

// Define Peer: Basic Info Sent to Peers
message Peer {
  string id = 1;
  Device device = 2;
  string olc = 3;
  string firstName = 4;
  string lastName = 5;
  string profilePic = 6;
  double direction = 7;
  double difference = 8;
  Proximity proximity = 9;
  Relation relation = 10;

  // Define Proximity
  enum Proximity {
    UNKNOWN = 0;
    IMMEDIATE = 1;
    NEAR = 2;
    FAR = 3;
  }

  // Define Relation
  enum Relation {
    NONE = 0;
    INVITED = 1;
    ACCEPTED = 2;
    DECLINED = 3;
  }
}
syntax = "proto3";

import "user.proto";

// Require Go Package
option go_package = ".;models";

// Define Payload: Define Payload Enum
enum Payload {
  UNDEFINED = 0;
  IMAGE = 1;
  VIDEO = 2;
  FILE = 3;
  CONTACT = 4;
  URL = 5;
  TEXT = 6;
  AUDIO = 7;
}

// Define Metadata Type: For Received Transfer
message Metadata {
  int32 id = 1;
  string name = 2;
  string path = 3;
  int32 size = 4;
  MIME mime = 5;
  bytes thumbnail = 6;
  int32 received = 7;
  Profile owner = 8;
}

// Define Preview: For File Transfer Request
message Preview {
  MIME mime = 1;
  string name = 2;
  int32 size = 3;
  bytes thumbnail = 4;
  int32 duration = 5;
}

// Define MIME: Protobuf Version of Mime
message MIME {
  Type type = 1;
  string subtype = 2;
  string value = 3;

  enum Type {
    application = 0;
    audio = 1;
    image = 2;
    text = 3;
    video = 4;
    pdf = 5;
    presentation = 6;
    spreadsheet = 7;
  }
}

// Define Lobby Type: For Info about Lobby
message Lobby {
  string olc = 1;
  int32 size = 2;
  int32 count = 3;
  map<string, Peer> peers = 4;
}

// [CORE]
// Message Sent when peer messages Lobby Topic
message LobbyEvent {
  string id = 1;
  Event event = 2;
  Peer data = 3;

  enum Event {
    ENTER = 0;
    EXIT = 1;
    STANDBY = 2;
    EXCHANGE = 3;
    UPDATE = 4;
  }
}
